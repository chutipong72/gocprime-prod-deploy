import{$ as N,Ea as G,Fa as V,G as j,Ga as Z,I as F,L as c,M as p,N as R,Nb as J,Q as l,T as f,U as o,V as a,W as U,_ as $,ba as s,ca as g,cc as K,da as A,dc as Q,eb as w,ec as X,ga as P,ha as q,i as T,ja as u,ka as C,kb as S,la as M,lb as I,pa as B,qb as z,sa as H,sb as E,t as L,ta as O,tb as k,ua as v,wb as Y,x as b,xa as W,y as D,za as y}from"./chunk-5WHE5UTD.js";var dt=n=>["/announcement",n];function lt(n,_){if(n&1&&(o(0,"div",11)(1,"a",12)(2,"div",13)(3,"div",14)(4,"mat-icon",15),s(5,"description"),a(),o(6,"h3",16),s(7),a(),o(8,"div",17)(9,"mat-icon",18),s(10,"date_range"),a(),o(11,"span"),s(12),u(13,"date"),a()()()(),o(14,"mat-icon",19),s(15,"keyboard_arrow_right"),a()()()),n&2){let t=_.$implicit;c(1),l("routerLink",q(6,dt,t.slug)),c(6),g(t.title),c(5),g(M(13,3,t.created_at,"dd/MM/yyyy"))}}function gt(n,_){n&1&&(o(0,"div",20)(1,"mat-icon",21),s(2,"inbox"),a(),o(3,"p"),s(4,"No Announcement Yet"),a()())}var mt=()=>[5,10,25,50],et=(()=>{class n{constructor(t,e,i,d,r){this.http=t,this.route=e,this.router=i,this.appService=d,this.translateService=r,this.API_NEW_GUZEPRESS="https://guzepress.quodcloud.com/api",this.p=1,this.allPosts=[],this.posts=[],this.totalItems=0,this.itemsPerPage=10,this.langMap={cn:"zh",vn:"vi",laos:"lo",jp:"ja"}}ngOnInit(){this.loadPosts(),this.langChangeSubscription=this.translateService.onLangChange.subscribe(t=>{this.p=1,this.loadPosts(t.lang)})}ngOnDestroy(){this.langChangeSubscription&&this.langChangeSubscription.unsubscribe()}convertLangCode(t){return this.langMap[t]||t}loadPosts(t){let e=t||this.translateService.currentLang||"th",i=this.convertLangCode(e);this.http.get(`${this.API_NEW_GUZEPRESS}/posts/gocannounce/${i}`).subscribe(d=>{this.allPosts=d.filter(r=>r.published===1||r.published==="published").sort((r,m)=>new Date(m.created_at).getTime()-new Date(r.created_at).getTime()),this.totalItems=this.allPosts.length,this.setPostsForPage(),this.hideloader()})}setPostsForPage(){let t=(this.p-1)*this.itemsPerPage,e=t+this.itemsPerPage;this.posts=this.allPosts.slice(t,e)}updateUrlLang(t){this.router.navigate([],{relativeTo:this.route,queryParams:{lang:t},queryParamsHandling:"merge"})}hideloader(){let t=document.getElementById("loading");t&&(t.style.display="none")}onPageChange(t){this.p=t.pageIndex+1,this.itemsPerPage=t.pageSize,this.setPostsForPage()}static{this.\u0275fac=function(e){return new(e||n)(p(y),p(z),p(E),p(J),p(S))}}static{this.\u0275cmp=b({type:n,selectors:[["app-announce"]],decls:15,vars:12,consts:[[1,"theme-container","mt-5"],[1,"announcement-wrapper"],[1,"announcement-header"],[1,"header-content"],[1,"title"],[1,"sub-title"],[1,"posts-container"],["class","post-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"paginator-wrapper"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"post-item"],[1,"post-link",3,"routerLink"],[1,"post-content"],[1,"post-header"],[1,"post-icon"],[1,"post-title"],[1,"post-date"],[1,"date-icon"],[1,"arrow-icon"],[1,"empty-state"],[1,"empty-icon"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),s(5),u(6,"translate"),a(),o(7,"p",5),s(8),u(9,"translate"),a()()(),o(10,"div",6),f(11,lt,16,8,"div",7)(12,gt,5,0,"div",8),a(),o(13,"div",9)(14,"mat-paginator",10),$("page",function(r){return i.onPageChange(r)}),a()()()()),e&2&&(c(5),g(C(6,7,"NAV.ANNOUNCE")),c(3),g(C(9,9,"NAV.SUB_ANNOUNCEMENT")),c(3),l("ngForOf",i.posts),c(1),l("ngIf",!i.posts||i.posts.length===0),c(2),l("length",i.totalItems)("pageSize",i.itemsPerPage)("pageSizeOptions",P(11,mt)))},dependencies:[H,O,k,w,Q,v,I],styles:[".theme-container[_ngcontent-%COMP%]{min-height:calc(100vh - 200px);padding:24px 0}.announcement-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 24px}.announcement-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgb(0,102,255) 0%,rgb(36,213,255) 100%)!important;border-radius:16px;padding:48px;margin-bottom:32px;position:relative;overflow:hidden;box-shadow:0 10px 30px #667eea4d}.announcement-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2}.announcement-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;font-weight:700;margin:0 0 12px;text-shadow:0 2px 4px rgba(0,0,0,.1)}.announcement-header[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.125rem;margin:0;font-weight:400}.announcement-header[_ngcontent-%COMP%]   .announcement-logo[_ngcontent-%COMP%]{position:absolute;right:48px;top:50%;transform:translateY(-50%);max-width:200px;opacity:.2;z-index:1}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:60px 0}.spinner-wrapper[_ngcontent-%COMP%]   .spinner-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.posts-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px #00000014;min-height:400px}.post-item[_ngcontent-%COMP%]{border-bottom:1px solid #e8eaf0;transition:all .3s ease}.post-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.post-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fc;transform:translate(8px)}.post-item[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{transform:translate(8px);color:#667eea}.post-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 16px;text-decoration:none;color:inherit;transition:all .3s ease}.post-content[_ngcontent-%COMP%]{flex:1}.post-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;margin-bottom:8px}.post-header[_ngcontent-%COMP%]   .post-icon[_ngcontent-%COMP%]{color:#667eea;font-size:24px;width:24px;height:24px;flex-shrink:0;margin-top:2px}.post-header[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#2d3748;margin:0;line-height:1.5;transition:color .3s ease}.post-header[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]:hover{color:#667eea}.post-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:36px;color:#718096;font-size:.875rem}.post-date[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.arrow-icon[_ngcontent-%COMP%]{color:#cbd5e0;font-size:28px;width:28px;height:28px;transition:all .3s ease;flex-shrink:0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;color:#a0aec0}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;margin:0}.paginator-wrapper[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px #00000014}.paginator-wrapper[_ngcontent-%COMP%]     .mat-paginator{background:transparent}@media (max-width: 768px){.announcement-header[_ngcontent-%COMP%]{padding:32px 24px}.announcement-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.875rem}.announcement-header[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:1rem}.announcement-header[_ngcontent-%COMP%]   .announcement-logo[_ngcontent-%COMP%]{display:none}.posts-container[_ngcontent-%COMP%]{padding:16px}.post-header[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.post-header[_ngcontent-%COMP%]   .post-icon[_ngcontent-%COMP%]{margin-top:0}.post-date[_ngcontent-%COMP%]{margin-left:0}.post-item[_ngcontent-%COMP%]:hover{transform:translate(4px)}}@media (max-width: 480px){.theme-container[_ngcontent-%COMP%]{padding:16px 0}.announcement-wrapper[_ngcontent-%COMP%]{padding:0 16px}.announcement-header[_ngcontent-%COMP%]{padding:24px 16px}.announcement-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem}.post-title[_ngcontent-%COMP%]{font-size:1rem!important}}"]})}}return n})();var ht=()=>["/"],ut=()=>["/announcement"];function xt(n,_){if(n&1&&(o(0,"div",5)(1,"div",6)(2,"a",7)(3,"mat-icon"),s(4,"home"),a()(),o(5,"mat-icon",8),s(6,"chevron_right"),a(),o(7,"a",7),s(8),u(9,"translate"),a(),o(10,"mat-icon",8),s(11,"chevron_right"),a(),o(12,"span",9),s(13),a()()()),n&2){let t=N();c(2),l("routerLink",P(6,ht)),c(5),l("routerLink",P(7,ut)),c(1),A(" ",C(9,4,"NAV.ANNOUNCE")," "),c(5),g(t.announceDetail.title)}}function ft(n,_){if(n&1&&(o(0,"article",10)(1,"div",11)(2,"h1",12),s(3),a(),o(4,"div",13)(5,"mat-icon",14),s(6,"date_range"),a(),o(7,"span",15),s(8),u(9,"date"),a()()(),U(10,"mat-divider",16)(11,"div",17),a()),n&2){let t=N();c(3),g(t.announceDetail.title),c(5),A(" ",M(9,3,t.announceDetail.publishedAt,"dd MMMM yyyy")," "),c(3),l("innerHTML",t.safeContent,j)}}var nt=(()=>{class n{constructor(t,e,i,d,r,m,h,x,it,ot){this.route=t,this.http=e,this.translateService=i,this.router=d,this.cdRef=r,this.meta=m,this.titleService=h,this.sanitizer=x,this.rendererFactory=it,this.document=ot,this.API_NEW_GUZEPRESS="https://guzepress.quodcloud.com/api",this.langMap={cn:"zh",vn:"vi",laos:"lo",jp:"ja"},this.items=[],this.otherAnnouncements=[],this.currentLanguage="th",this.subscriptions=[],this.renderer=this.rendererFactory.createRenderer(null,null)}ngOnInit(){let t=T([this.route.params,this.translateService.onLangChange]).subscribe(([d,r])=>{let m=d.slug,h=r.lang||this.translateService.currentLang||"th";this.currentLanguage=h,this.loadPost(m,h),this.items=[this.translateNav("NAV.ANNOUNCEMENT")]});this.subscriptions.push(t);let e=this.route.snapshot.params.slug,i=this.translateService.currentLang||"th";this.currentLanguage=i,this.loadPost(e,i),this.items=[this.translateNav("NAV.ANNOUNCEMENT")]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}convertLangCode(t){return this.langMap[t]||t}translateNav(t){return this.translateService.instant(t)}loadPost(t,e){if(!t||!e)return;let i=this.convertLangCode(e),d=`${this.API_NEW_GUZEPRESS}/posts/gocpostbyslug/${t}?lang=${i}`;this.http.get(d).subscribe({next:r=>{this.handlePost(r,this.API_NEW_GUZEPRESS)},error:r=>{console.error("\u274C Post not found:",r)}})}handlePost(t,e){t.publishedAt=t.created_at||t.publishedAt,this.announceDetail=t,this.safeContent=this.sanitizer.bypassSecurityTrustHtml(t.content);let i=t.metaTitle||t.title||"No Title",d=t.metaDescription||"No Description",r=t.featureImage?t.featureImage.startsWith("http")?t.featureImage:`${e}/${t.featureImage}`:"assets/images/goc/info/logo-white.png";this.updateMetaTags(i,d,r)}updateMetaTags(t,e,i){this.meta.removeTag("property='og:title'"),this.meta.removeTag("property='og:description'"),this.meta.removeTag("property='og:image'"),this.meta.removeTag("name='description'"),this.titleService.setTitle(t),this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({property:"og:title",content:t}),this.meta.updateTag({property:"og:description",content:e}),this.meta.updateTag({property:"og:image",content:i});let d=this.currentLanguage||"en",m=`https://gocprime.com/announcement/${this.announceDetail?.slug||this.route.snapshot.params.slug||""}`,h=this.document.querySelector("link[rel='canonical']");h&&this.renderer.removeChild(this.document.head,h);let x=this.renderer.createElement("link");this.renderer.setAttribute(x,"rel","canonical"),this.renderer.setAttribute(x,"href",m),this.renderer.appendChild(this.document.head,x),this.cdRef.detectChanges()}updateUrlLang(t,e){this.router.navigate([],{relativeTo:this.route,queryParams:{lang:t},queryParamsHandling:"merge"})}static{this.\u0275fac=function(e){return new(e||n)(p(z),p(y),p(S),p(E),p(R),p(G),p(V),p(Z),p(F),p(B))}}static{this.\u0275cmp=b({type:n,selectors:[["app-announce-detail"]],decls:5,vars:2,consts:[[1,"theme-container"],["class","breadcrumb-wrapper",4,"ngIf"],[1,"content-wrapper"],[1,"main-container"],["class","article-content",4,"ngIf"],[1,"breadcrumb-wrapper"],[1,"breadcrumb-container"],[1,"breadcrumb-link",3,"routerLink"],[1,"breadcrumb-separator"],[1,"breadcrumb-current"],[1,"article-content"],[1,"article-header"],[1,"article-title"],[1,"article-meta"],[1,"meta-icon"],[1,"meta-date"],[1,"title-divider"],[1,"article-body",3,"innerHTML"]],template:function(e,i){e&1&&(o(0,"div",0),f(1,xt,14,8,"div",1),o(2,"div",2)(3,"div",3),f(4,ft,12,6,"article",4),a()()()),e&2&&(c(1),l("ngIf",i.announceDetail),c(3),l("ngIf",i.announceDetail))},dependencies:[O,k,w,K,v,I],styles:[".theme-container[_ngcontent-%COMP%]{min-height:calc(100vh - 200px)}.breadcrumb-wrapper[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e8eaf0;padding:16px 0;margin-bottom:32px}.breadcrumb-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 24px;display:flex;align-items:center;gap:8px}.breadcrumb-link[_ngcontent-%COMP%]{display:flex;align-items:center;color:#667eea;text-decoration:none;font-weight:500;transition:all .3s ease}.breadcrumb-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.breadcrumb-link[_ngcontent-%COMP%]:hover{color:#5568d3;transform:translate(-2px)}.breadcrumb-separator[_ngcontent-%COMP%]{color:#cbd5e0;font-size:20px;width:20px;height:20px}.breadcrumb-current[_ngcontent-%COMP%]{color:#4a5568;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:300px}.content-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 24px 48px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:32px}.article-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:48px;box-shadow:0 2px 12px #00000014}.article-header[_ngcontent-%COMP%]{margin-bottom:24px}.article-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#1a202c;margin:0 0 16px;line-height:1.3}.article-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#718096;font-size:.95rem}.article-meta[_ngcontent-%COMP%]   .meta-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#667eea}.article-meta[_ngcontent-%COMP%]   .meta-date[_ngcontent-%COMP%]{font-weight:500}.title-divider[_ngcontent-%COMP%]{margin:24px 0 32px;border-top-width:2px;border-color:#e8eaf0}.article-body[_ngcontent-%COMP%]{color:#2d3748;font-size:1.0625rem;line-height:1.8}.article-body[_ngcontent-%COMP%]     p{margin-bottom:1.5rem}.article-body[_ngcontent-%COMP%]     h2, .article-body[_ngcontent-%COMP%]     h3, .article-body[_ngcontent-%COMP%]     h4{margin-top:2rem;margin-bottom:1rem;font-weight:600;color:#1a202c}.article-body[_ngcontent-%COMP%]     h2{font-size:1.75rem}.article-body[_ngcontent-%COMP%]     h3{font-size:1.5rem}.article-body[_ngcontent-%COMP%]     h4{font-size:1.25rem}.article-body[_ngcontent-%COMP%]     ul, .article-body[_ngcontent-%COMP%]     ol{margin-bottom:1.5rem;padding-left:2rem}.article-body[_ngcontent-%COMP%]     li{margin-bottom:.5rem}.article-body[_ngcontent-%COMP%]     a{color:#667eea;text-decoration:none;border-bottom:1px solid transparent;transition:all .3s ease}.article-body[_ngcontent-%COMP%]     a:hover{color:#5568d3;border-bottom-color:#5568d3}.article-body[_ngcontent-%COMP%]     img{max-width:100%;height:auto;border-radius:8px;margin:2rem 0;box-shadow:0 4px 12px #0000001a}.article-body[_ngcontent-%COMP%]     blockquote{border-left:4px solid #667eea;padding-left:1.5rem;margin:2rem 0;color:#4a5568;font-style:italic;background-color:#f7fafc;padding:1rem 1.5rem;border-radius:4px}.article-body[_ngcontent-%COMP%]     code{background-color:#f7fafc;padding:2px 8px;border-radius:4px;font-size:.9em;color:#e53e3e;font-family:Courier New,monospace}.article-body[_ngcontent-%COMP%]     pre{background-color:#2d3748;color:#f7fafc;padding:1.5rem;border-radius:8px;overflow-x:auto;margin:2rem 0}.article-body[_ngcontent-%COMP%]     pre code{background:none;color:inherit;padding:0}.article-body[_ngcontent-%COMP%]     table{width:100%;border-collapse:collapse}.article-body[_ngcontent-%COMP%]     table th, .article-body[_ngcontent-%COMP%]     table td{padding:12px;text-align:left;border-bottom:1px solid #e8eaf0}.article-body[_ngcontent-%COMP%]     table th{background-color:#f7fafc;font-weight:600;color:#2d3748}.related-posts[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:32px;box-shadow:0 2px 12px #00000014}.related-header[_ngcontent-%COMP%]{margin-bottom:24px}.related-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:1.5rem;font-weight:700;color:#1a202c;margin:0}.related-title[_ngcontent-%COMP%]   .related-icon[_ngcontent-%COMP%]{color:#667eea;font-size:28px;width:28px;height:28px}.related-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.related-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-radius:12px;background-color:#fff;border:1px solid #e8eaf0;text-decoration:none;transition:all .3s ease}.related-item[_ngcontent-%COMP%]:hover{background-color:#f7fafc;border-color:#667eea;transform:translate(4px);box-shadow:0 4px 12px #667eea26}.related-item[_ngcontent-%COMP%]:hover   .related-arrow[_ngcontent-%COMP%]{color:#667eea;transform:translate(4px)}.related-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;flex:1}.related-item-icon[_ngcontent-%COMP%]{color:#667eea;font-size:24px;width:24px;height:24px;flex-shrink:0;margin-top:2px}.related-info[_ngcontent-%COMP%]{flex:1;min-width:0}.related-item-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2d3748;margin:0 0 6px;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.related-item-date[_ngcontent-%COMP%]{font-size:.875rem;color:#718096;display:flex;align-items:center;gap:4px}.related-arrow[_ngcontent-%COMP%]{color:#cbd5e0;font-size:24px;width:24px;height:24px;flex-shrink:0;transition:all .3s ease}@media (max-width: 968px){.article-content[_ngcontent-%COMP%]{padding:32px 24px}.article-title[_ngcontent-%COMP%]{font-size:1.875rem}.related-posts[_ngcontent-%COMP%]{padding:24px}}@media (max-width: 768px){.breadcrumb-wrapper[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]{padding:0 16px 32px}.article-content[_ngcontent-%COMP%]{padding:24px 16px;border-radius:12px}.article-title[_ngcontent-%COMP%]{font-size:1.5rem}.article-body[_ngcontent-%COMP%]{font-size:1rem}.related-posts[_ngcontent-%COMP%]{padding:20px 16px;border-radius:12px}.related-title[_ngcontent-%COMP%]{font-size:1.25rem}.related-item-title[_ngcontent-%COMP%]{font-size:.9375rem}}@media (max-width: 480px){.breadcrumb-current[_ngcontent-%COMP%]{max-width:200px}.article-title[_ngcontent-%COMP%]{font-size:1.375rem}.related-item[_ngcontent-%COMP%]{padding:12px}.related-item-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}"]})}}return n})();var Pt=[{path:"",component:et,pathMatch:"full"},{path:":slug",component:nt}],Nt=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=D({type:n})}static{this.\u0275inj=L({imports:[W,Y.forChild(Pt),X]})}}return n})();export{Nt as AnnounceModule,Pt as routes};
